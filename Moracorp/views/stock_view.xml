<odoo>
  <data>
    <!-- actions opening views on models -->
    
    <record model="ir.actions.act_window" id="stock_action_window">
      <field name="name">Stock de Moracorp Electrics</field>
      <!-- Nombre del modelo que mostraremos en la vista-->
      <field name="res_model">moracorp.productos</field>
      <!-- Indicamos que nuestro formulario tendrÃ¡ vista tree (para mostrar todos los datos
      y vista form (para crear o editar datos)
      La vista Form no la definimos, por lo cual tendremos la version automatica.
      La vista tree la definiremos mas abajo.
      -->
      <field name="view_mode">tree,graph</field>
      <!-- Si no lo ponemos, cogera la otra vista tree definida en equipo
        esto se usa para diferentes vistas de un mismo modelo-->
       <field name="view_id" ref="stock_tree_view" />
    </record>

    <!-- actions -->
    <menuitem name="Stock" id="stock_menu" parent="moracorp_menu_root" action="stock_action_window" />

    <!-- Odoo puede colocar vistas automaticas, aunque con un aspecto y funcionalidad mejorable
    Nosotros, para afinarlo, explicaremos de manera explicita como es cada vista -->

    <!-- Definimos como es la vista explicita de la lista-->

    <!-- Vista Tree -->
    <record model="ir.ui.view" id="stock_tree_view">
      <field name="name">Lista de Productos</field>
      <field name="model">moracorp.productos</field>
      <field name="arch" type="xml">
        <tree>
          <header>
              <button type="object" name = "actualizar_stock" string="Actualizar Stock" class="oe_highlight"/>
          </header>
          <field name="id" />
          <field name="nombre" />
          <field name="cantidad" />
          <field name="compra" />
          <field name="venta" />
          <field name="ingresos" />
          <field name="costes" />
          <field name="beneficios" />
        </tree>
      </field>
    </record>

    <!-- Vista Graph -->
    <record model="ir.ui.view" id="stock_graph_view">
        <field name="name">Grafico de Productos</field>
        <field name="model">moracorp.productos</field>
        <field name="type">graph</field>
        <field name="arch" type="xml">
              <graph string="Estadisticas" type="pie">
                <field name="nombre" group="True" type="row"/>
                <field name="beneficios" group="True" type="measure"/>
                <field name="ingresos"/>
                <field name="costes"/>
             </graph>
         </field>
      </record>
  </data>
</odoo>